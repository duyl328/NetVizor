<Window
    x:Class="Shell.Views.TrafficAnalysisWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:userControls="clr-namespace:Shell.UserControls"
    mc:Ignorable="d"
    Title="流量统计与分析 - NetVizor"
    Height="800"
    Width="1200"
    MinHeight="600"
    MinWidth="800"
    WindowStartupLocation="CenterScreen"
    Icon="pack://application:,,,/Assets/Icons/app.ico">
    
    <Window.Resources>
        <Style x:Key="ModernWindowStyle" TargetType="Window">
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="" FontFamily="Segoe Fluent Icons" 
                              FontSize="20" Foreground="White" 
                              VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock Text="流量统计与分析" FontSize="18" 
                              FontWeight="SemiBold" Foreground="White" 
                              VerticalAlignment="Center"/>
                </StackPanel>
                
                <TextBlock Grid.Column="1" Text="网络流量实时监控与深度分析" 
                          FontSize="12" Foreground="#BDC3C7" 
                          VerticalAlignment="Center" HorizontalAlignment="Center"/>
                
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button Content="刷新" Click="Refresh_Click" 
                           Style="{DynamicResource ModernButtonStyle}" 
                           Margin="0,0,10,0" Padding="10,5"/>
                    <Button Content="关闭" Click="Close_Click" 
                           Style="{DynamicResource ModernButtonStyle}" 
                           Padding="10,5"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Main Content - WebPanel -->
        <Border Grid.Row="1" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,1,0,1">
            <userControls:WebPanel x:Name="WebPanel" />
        </Border>
        
        <!-- Footer -->
        <Border Grid.Row="2" Background="#34495E" Padding="10,5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" Text="需要管理员权限以获取完整的网络统计信息" 
                          FontSize="11" Foreground="#BDC3C7" 
                          VerticalAlignment="Center"/>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock Text="状态: " FontSize="11" Foreground="#BDC3C7" 
                              VerticalAlignment="Center"/>
                    <TextBlock x:Name="StatusText" Text="正在加载..." FontSize="11" 
                              Foreground="#27AE60" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>